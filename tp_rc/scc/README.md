Ripped from:
https://github.com/jleffler/scc-snapshots
